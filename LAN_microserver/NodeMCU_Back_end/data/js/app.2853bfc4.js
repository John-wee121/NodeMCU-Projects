(function(e){function t(t){for(var o,s,l=t[0],i=t[1],c=t[2],d=0,p=[];d<l.length;d++)s=l[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,l=1;l<n.length;l++){var i=n[l];0!==a[i]&&(o=!1)}o&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},a={app:0},r=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=i;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"26f6":function(e,t,n){},"2c09":function(e,t,n){"use strict";n("4b18")},"4b18":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"App"}},[n("router-view")],1)},r=[],s={name:"App",components:{}},l=s,i=n("2877"),c=Object(i["a"])(l,a,r,!1,null,null,null),u=c.exports,d=n("8c4f"),p=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"background"},[o("el-row",[o("div",{staticClass:"topPart"},[o("h1",[e._v("NODE MCU")]),o("el-divider"),o("h4",[e._v("LAN Micro Server")])],1)]),o("el-row",[o("el-col",{attrs:{span:12}},[o("div",{staticClass:"leftPart"},[o("FrostedGlass"),o("router-link",{attrs:{to:"/Control"}},[o("el-button",{attrs:{icon:"el-icon-right",circle:""}})],1),o("h6",[e._v("Go to the control panel")]),o("br"),o("br"),o("el-link",[e._v("Copyright (c) 2021, winston.wyx@foxmail.com All rights reserved.")])],1)]),o("el-col",{attrs:{span:12}},[o("div",{staticClass:"rightPart"},[o("span",[e._v(" 参考链接 "),o("br"),o("br"),o("el-link",{attrs:{href:"http://www.nodemcu.com/index_cn.html",target:"_blank"}},[e._v("NodeMCU官网")]),o("br"),o("br"),o("el-link",{attrs:{href:"https://www.arduino.cc/",target:"_blank"}},[e._v("Arduino官网")]),o("br"),o("br"),o("el-link",{attrs:{href:"https://cn.vuejs.org/",target:"_blank"}},[e._v("Vue官网")]),o("br"),o("br"),o("el-link",{attrs:{href:"http://www.taichi-maker.com/",target:"_blank"}},[e._v("太极创客官网")]),o("br"),o("br"),o("el-link",{attrs:{href:"https://github.com/SingleMoonlight/NodeMCU-projects",target:"_blank"}},[e._v("GitHub地址")])],1),o("img",{attrs:{src:n("f254")}})])])],1)],1)},h=[],f=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},g=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("main",[n("blockquote",[e._v(" 这是一个运行在 NodeMCU 上的微服务器，它可以在局域网 (LAN) 里工作。 "),n("br"),n("br"),e._v(" 不同于传统意义上专于提供计算和应用服务、执行大量任务的服务器，它的算力十分有限，不过它可以执行一些简单的任务。 "),n("br"),n("br"),e._v(" 比如您现在看到的这个 Web 网页，正在运行在 NodeMCU 上。除此之外，它还可以利用局域网进行 TCP 通信，在网页上向 NodeMCU 发送控制指令 (HTTP请求)，让 NodeMCU 执行相应的任务。 "),n("br"),n("br"),e._v(" 现在去控制面板试试一吧！ ")])])])}],v={name:"FrostedGlass"},b=v,m=(n("2c09"),Object(i["a"])(b,f,g,!1,null,"4e1459ef",null)),w=m.exports,_={name:"HelloWorld",components:{FrostedGlass:w}},y=_,S=(n("f370"),Object(i["a"])(y,p,h,!1,null,"cac85b2e",null)),C=S.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"background"},[n("el-row",[n("div",{staticClass:"topPart"},[n("el-col",{attrs:{span:22}},[n("h3",[e._v("Node MCU LAN Micro Server Control Panel")])]),n("el-col",{attrs:{span:2}},[n("router-link",{attrs:{to:"/"}},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"回到首页",placement:"bottom"}},[n("i",{staticClass:"el-icon-close",staticStyle:{"margin-top":"24px","margin-left":"40px",color:"aliceblue"}})])],1)],1)],1)]),n("br"),n("el-row",{attrs:{gutter:12}},[n("div",{staticClass:"bottomPart"},[n("el-col",{attrs:{span:8}},[n("el-card",{attrs:{shadow:"hover"}},[n("h3",[e._v("板载LED控制")]),n("el-divider"),n("span",[e._v("开关")]),n("br"),n("br"),n("el-switch",{attrs:{"active-color":"#409EFF","inactive-color":"#797979"},on:{change:function(t){return e.changeLedState()}},model:{value:e.LedState,callback:function(t){e.LedState=t},expression:"LedState"}}),n("br"),n("br"),n("span",[e._v("亮度调节")]),n("br"),n("br"),n("el-slider",{on:{change:function(t){return e.changeLedBrightness()}},model:{value:e.LedBrightness,callback:function(t){e.LedBrightness=t},expression:"LedBrightness"}}),n("br"),n("span",[e._v("其他控制")]),n("br"),n("br"),n("el-radio",{attrs:{label:"1"},on:{change:function(t){return e.selectLedMode()}},model:{value:e.LedMode,callback:function(t){e.LedMode=t},expression:"LedMode"}},[e._v("呼吸灯模式")]),n("el-radio",{attrs:{disabled:"",label:"2"},model:{value:e.LedMode,callback:function(t){e.LedMode=t},expression:"LedMode"}},[e._v("期待...")])],1),n("br"),n("br"),n("el-card",{attrs:{shadow:"hover"}},[n("el-dropdown",{staticStyle:{float:"right",padding:"13px 0"},attrs:{"split-button":"",type:"text"},on:{click:function(t){return e.openMassage()}}},[e._v(" 点我 "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[e._v("闪存信息")]),n("el-dropdown-item",[e._v("服务器IP")]),n("el-dropdown-item",[e._v("项目地址")]),n("el-dropdown-item",[e._v("......")])],1)],1),n("h3",[e._v("信息交互")]),n("el-divider"),n("el-input",{attrs:{type:"textarea",rows:5,placeholder:"您想发送的信息"},model:{value:e.InteractInfo,callback:function(t){e.InteractInfo=t},expression:"InteractInfo"}}),n("br"),n("br"),n("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.interactInfo()}}},[e._v("发送")])],1)],1),n("el-col",{attrs:{span:8}},[n("el-card",{attrs:{shadow:"hover"}},[n("el-button",{staticStyle:{float:"right",padding:"23px 0"},attrs:{type:"text"},on:{click:function(t){return e.openMassage2()}}},[e._v("点我")]),n("h3",[e._v("文件管理")]),n("el-divider"),n("span",[e._v("文件下载")]),n("br"),n("br"),n("el-autocomplete",{staticStyle:{width:"87%"},attrs:{"fetch-suggestions":e.querySearchAsync,placeholder:"请选择文件"},on:{select:e.handleSelect,focus:e.loadFiles},model:{value:e.SelectFile,callback:function(t){e.SelectFile=t},expression:"SelectFile"}}),n("br"),n("br"),n("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.downloadFile()}}},[e._v("下载")]),n("br"),n("br"),n("span",[e._v("文件上传")]),n("br"),n("br"),n("el-upload",{ref:"upload",attrs:{action:"","http-request":e.requestFile,"auto-upload":!1,drag:!0,multiple:""}},[n("i",{staticClass:"el-icon-upload"}),n("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),n("em",[e._v("点击上传")])]),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("NodeMCU闪存空间较小(只有4M)，除去代码及系统文件所占空间，闪存空间所剩无几，只能上传一些简单的文件，建议(一共)不要超过500kb")])]),n("br"),n("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.uploadFile()}}},[e._v("上传")])],1)],1),n("el-col",{attrs:{span:8}},[n("el-card",{attrs:{shadow:"hover"}},[n("h3",[e._v("舵机控制")]),n("el-divider"),n("span",[e._v("角度调节")]),n("br"),n("br"),n("div",{staticClass:"block"},[n("el-slider",{attrs:{max:180,"show-input":""},on:{change:function(t){return e.changeServoAngle()}},model:{value:e.ServoAngle,callback:function(t){e.ServoAngle=t},expression:"ServoAngle"}})],1)],1),n("br"),n("br"),n("el-card",{attrs:{shadow:"hover"}},[n("h3",[e._v("模拟引脚读数")]),n("el-divider"),n("span",[e._v("读数："+e._s(this.AnalogPinValue))]),n("br"),n("br"),n("el-slider",{attrs:{disabled:"",max:20},model:{value:e.AnalogPinValue,callback:function(t){e.AnalogPinValue=t},expression:"AnalogPinValue"}}),n("br"),n("br"),n("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.getAnalogPinValue()}}},[e._v("获取")])],1)],1)],1)])],1)},L=[],k=(n("4de4"),n("c975"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),{name:"Control",data:function(){return{LedState:!0,LedBrightness:0,LedMode:"",InteractInfo:"",ServoAngle:0,AnalogPinValue:0,SelectFile:"",Files:[],timeout:null}},methods:{changeLedState:function(){var e=this;this.$axios.get("/changeLedState",{params:{LedState:this.LedState}}).then((function(t){"Success"===t.data?e.$message({showClose:!1,message:"操作成功！",type:"success",center:!0}):e.$message({showClose:!1,message:"操作失败！",type:"error",center:!0})})).catch((function(e){console.log(e)})),this.LedMode=""},changeLedBrightness:function(){var e=this;this.$axios.get("/changeLedBrightness",{params:{LedBrightness:this.LedBrightness}}).then((function(t){"Success"===t.data?e.$message({showClose:!1,message:"调节成功！",type:"success",center:!0}):e.$message({showClose:!1,message:"调节失败！",type:"error",center:!0})})).catch((function(e){console.log(e)})),this.LedMode=""},selectLedMode:function(){var e=this;this.$axios.get("/selectLedMode",{params:{LedMode:this.LedMode}}).then((function(t){"Success"===t.data?e.$message({showClose:!1,message:"选择成功！",type:"success",center:!0}):e.$message({showClose:!1,message:"选择失败！",type:"error",center:!0})})).catch((function(e){console.log(e)}))},interactInfo:function(){var e=this;this.$axios.get("/interactInfo",{params:{InteractInfo:this.InteractInfo}}).then((function(t){e.InteractInfo=t.data})).catch((function(e){console.log(e)}))},getAnalogPinValue:function(){var e=this;setInterval((function(){e.$axios.get("/getAnalogPinValue").then((function(t){e.AnalogPinValue=parseInt(t.data)})).catch((function(e){console.log(e)}))}),2e3)},uploadFile:function(){this.$refs.upload.submit()},requestFile:function(e){var t=this,n=e.file,o=new FormData;o.append("UploadFile",n);var a="/uploadFile",r={headers:{"Content-Type":"multipart/form-data"}};this.$axios.post(a,o,r).then((function(e){"Success"===e.data?t.$message({showClose:!1,message:"上传成功！",type:"success",center:!0}):t.$message({showClose:!1,message:"上传失败！",type:"error",center:!0})})).catch((function(e){console.log(e),t.$message({showClose:!1,message:"网络错误！",type:"error",center:!0})}))},loadFiles:function(){var e=this,t=[];this.$axios.get("/loadFiles").then((function(e){var n=e.data.length-1;while(n>=0){var o={};o.value=e.data[n].filename,t.push(o),n--}})).catch((function(t){console.log(t),e.$message({showClose:!1,message:"网络错误！",type:"error",center:!0})})),this.Files=t},querySearchAsync:function(e,t){var n=this.Files,o=e?n.filter(this.createStateFilter(e)):n;clearTimeout(this.timeout),this.timeout=setTimeout((function(){t(o)}),1e3*Math.random())},createStateFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){console.log(e)},downloadFile:function(){var e=this;this.$axios.get("/downloadFile",{params:{SelectFile:this.SelectFile},responseType:"arraybuffer"}).then((function(t){var n=new Blob([t.data]),o=e.SelectFile.substring(12,e.SelectFile.length);if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(n,o);else{var a=window.URL.createObjectURL(n),r=document.createElement("a");r.style.display="none",r.href=a,r.setAttribute("download",o),"undefined"===typeof r.download&&r.setAttribute("target","_blank"),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(a)}})).catch((function(t){console.log(t),e.$message({showClose:!1,message:"网络错误！",type:"error",center:!0})}))},changeServoAngle:function(){var e=this;this.$axios.get("/changeServoAngle",{params:{ServoAngle:this.ServoAngle}}).then((function(t){"Success"===t.data?e.$message({showClose:!1,message:"调节成功！",type:"success",center:!0}):e.$message({showClose:!1,message:"调节失败！",type:"error",center:!0})})).catch((function(e){console.log(e)}))},openMassage:function(){var e=this.$createElement;this.$notify({title:"Tips",message:e("i",{style:"color: teal"},"一般来说，服务器是用来响应客户端请求的，服务器不主动和客户端交流，这里提供一个信息交互的demo，服务器根据客户端的要求做出对应的操作。您可以尝试发送下拉菜单里提供的命令，观察响应信息。")})},openMassage2:function(){var e=this.$createElement;this.$notify({title:"Tips",message:e("i",{style:"color: teal"},"本项目使用的NodeMCU闪存空间为4M，空间很小，使用需要注意。因此为了便于管理文件的上传和下载，将所有用于上传和下载的文件都放在/updownload/目录下。")})}}}),M=k,$=(n("84ae"),Object(i["a"])(M,x,L,!1,null,"59df79c6",null)),F=$.exports,A=new d["a"]({routes:[{path:"/",name:"HelloWorld",component:C},{path:"/Control",name:"Control",component:F}]}),P=A,I=n("5c96"),O=n.n(I),j=(n("0fae"),n("bc3a")),U=n.n(j);U.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",o["default"].prototype.$axios=U.a,o["default"].config.productionTip=!1,o["default"].use(d["a"]),o["default"].use(O.a),new o["default"]({router:P,render:function(e){return e(u)}}).$mount("#app")},"84ae":function(e,t,n){"use strict";n("26f6")},b450:function(e,t,n){},f254:function(e,t,n){e.exports=n.p+"img/nodemcu.40258623.png"},f370:function(e,t,n){"use strict";n("b450")}});